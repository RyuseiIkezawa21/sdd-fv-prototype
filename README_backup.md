# sdd-fv-prototype

# ユースケースイメージ

## 作品オンボーディング

- 入力: 作品名・SNS 公式アカウント・ハッシュタグ・放送/配信開始日 …etc
- 方式: 手入力＋ URL 貼付を最小限に
- 期待 UX: 60 秒以内で登録完了

## データ収集・バズ検知

- データ源候補: X(Twitter) API v2, TikTok API, YouTube Data API, MyAnimeList/AniList ランキング, Google トレンド
- 検知ロジック: 前日比/週次比 MAU, RT 数, mentions のスパイク判定(3σ 超など)
- 更新頻度: prototyping では 1 日 1 回バッチ → 後で 15 分粒度を目指す

## 通知＆AI チャット

- トリガー: スパイク検知時 or 朝 7:00 定期サマリー

### チャット開始後

- Q: 「今の状況で有効な施策を教えて」
- A: 「① 声優 SNS コラボ ② ストリーミング施策 ③ トレンド × キャラ動画広告…」のテンプレ＋社内ナレッジ推薦
- 追撃質問 → 深掘り回答（RAG 構成 or GPT+社内ドキュメント検索）
- ダッシュボード
  - 作品一覧＋最新アラート履歴＋チャット履歴
  - 将来: KPI 推移可視化、施策実行ログ

# 機能要件っぽいもの

## 作品管理

- 作品登録・編集・削除（CRUD）
- 作品ごとの API キー発行（外部連携用）

## データクローラ

- SNS / ランキング等の外部データ取得
- ETL 処理で時系列 DB に格納
  - （ただし、プロトタイプ上ではクロールはせずイメージまで）

## バズ判定アルゴリズム

- 前日比・週次比スパイク検知（閾値はハードコードで可）

## 通知基盤

- SendGrid などで HTML メール送信
- 失敗時は自動リトライ

## チャット UI

- Web ベース（ChatGPT 風）
- メール内の Deep Link から該当作品コンテキストで開始

## AI 推論

- GPT ＋ RAG で施策プレイブック検索
- クライアントの RAG
- 一般的に言えることの RAG
- 生成回答＋関連ナレッジを提示
- （ただし、プロトタイプ上では AI と繋げず、固定文言を返却するようにする）

## ログ／ダッシュボード

- 作品一覧・最新アラート・チャット履歴を閲覧
- 簡易 KPI 推移グラフ（時系列 DB 参照）

# 技術要件

- docker compose
- Next.js
- TypeScript
